let Animal;_d2a‍.x([["readAnimalByKey",()=>readAnimalByKey],["insertAnimal",()=>insertAnimal]]);_d2a‍.w("./animal.js",[["Animal",["Animal"],function(v){Animal=v}]]);


function animalFromJSON(key, animal_JSON)
{
    var animal = new Animal(animal_JSON.name, animal_JSON.kingdom);
    animal.key = key;
    animal.description = animal_JSON.description;
    animal.price = animal_JSON.price;
    animal.attributes = animal_JSON.attributes;
    animal.images = animal_JSON.images;
    animal.size = animal_JSON.size;

    return animal;
}


       function readAnimalByKey(con, key)
{
    var sql = "SELECT * FROM animal WHERE keyword=?";
    con.query(sql, key, function(err, result) {
        if (err) throw err;
        _d2a‍.g.console.log(result);
    });
}


       function insertAnimal(con, key, animal_JSON)
{
    var animal = animalFromJSON(key, animal_JSON);
    var sql = "INSERT INTO animal (                             \
                    keyword, name, kingdom, description, price)   \
                VALUES (?, ?, ?, ?, ?);"         
    var values = [key, animal.name, animal.kingdom, animal.description, animal.price];
    con.query(sql, values, function(err, result) {
        if (err) throw err;
        _d2a‍.g.console.log(result.insertId);
    });
}